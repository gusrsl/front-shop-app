<ion-menu side="start" contentId="main-content" type="overlay">
  <ion-header>
    <ion-toolbar class="menu-header">
      <ion-grid>
        <ion-row class="ion-align-items-center">
          <ion-col size="8" class="ion-text-center">
            <ion-item lines="none">
              <ion-label>
                <!-- Si userData existe, muestra el avatar y el nombre y apellido del usuario -->
                <ion-card *ngIf="userData; else noUser" style="display: flex; align-items: center;">
                  <ion-avatar class="small-avatar">
                    <img src="https://ionicframework.com/docs/demos/api/avatar/avatar.svg">
                  </ion-avatar>
                  {{userData.nombre}} {{userData.apellido}}
                </ion-card>

                <!-- Si userData no existe, muestra un mensaje para que el usuario inicie sesi贸n -->
                <ng-template #noUser>
                  <div>Inicia sesi贸n para disfrutar de una experiencia completa</div>
                </ng-template>
              </ion-label>
            </ion-item>
          </ion-col>
          <ion-col *ngIf="userData" size="4" class="ion-text-right">
            <ion-item lines="none" (click)="logout()">
              <ion-icon slot="end" name="log-out-outline"></ion-icon>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list class="menu-list">
      <ion-menu-toggle auto-hide="false">
        <ion-item class="menu-item slide-in" (click)="navigateTo('/home')">
          Home
        </ion-item>
        <ion-item class="menu-item slide-in" (click)="navigateTo('/productos')">
          Productos
        </ion-item>

        <!-- Si userData existe, muestra las opciones para usuarios que han iniciado sesi贸n -->
        <div *ngIf="userData">
          <ion-item class="menu-item slide-in" (click)="navigateTo('/perfil')">
            Cuenta
          </ion-item>
          <ion-item class="menu-item slide-in" (click)="navigateTo('/cartshop')">
            Carrito
          </ion-item>
        </div>

        <!-- Si userData no existe, muestra las opciones para usuarios que no han iniciado sesi贸n -->
        <div *ngIf="!userData">
          <ion-item class="menu-item slide-in" (click)="navigateTo('/login')">
            Iniciar sesion
          </ion-item>
        </div>
      </ion-menu-toggle>

      <ion-item>
        <ion-toggle [(ngModel)]="themeToggle" (ionChange)="toggleChange($event); $event.stopPropagation()" justify="space-between"
          >Dark Mode</ion-toggle
        >
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>
